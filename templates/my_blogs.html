{% extends '_main.html' %}
{% load static %}

{% block title %}
Blabbing | Blogs
{% endblock title %}

{% block body %}

<section class="container main-section">

    <!-- Heading Row -->
    <div class="row">
        <div class="col-12 text-center">
            <h2 class="mb-3">Your blogs</h2>
            <hr style="border: 1px solid rgb(126, 126, 126);">
            <p class="text-center">Blogs you have created will be shown here</p>
            {% include '_message.html' %}
        </div>
    </div>

    <!-- My blogs Section -->
    <section class="container">

        {% for blog in blogs %}
        <div class="card mb-3">
            <div class="row g-0" style="background-color: rgba(219, 219, 219, 0.5);">

                <!-- Blog Image -->
                <div class="col-md-4" style="display: flex; background-color: rgb(196, 196, 196);">
                    <div class="my-auto d-block">
                        <img src="{{blog.blog_img.url}}" class="img-fluid rounded-star." alt="Blog Image"
                            style="width: 100%;">
                    </div>
                </div>

                <!-- Blog body -->
                <div class="col-md-8">
                    <div class="card-header">
                        <div class="row" style="margin-left: 1%;">
                            <div class="col-1" style="padding: 0; display: flex; align-items: center;">
                                <img src="{{blog.author.profile_pic.url}}" class="img-thumbnail rounded-circle"
                                    alt="..." style="padding: 0; margin: 0;">
                            </div>
                            <div class="col-10">
                                <h5 class="m-0"> {{blog.author}}</h5>
                                <p class="m-0"><small>Created on {{blog.created_at_local}}</small></p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <a href="/theblog/{{blog.id}}" style="text-decoration: none;"><h1 class="card-title" style="font-size: 40px">{{ blog.title }}</h1></a>
                        <p class="card-text">{{ blog.content|safe }}</p>
                        <p class="card-text"><small class="text-muted">{{blog.time_since_created}}</small></p>
                        <!-- <a href="/theblog/{{blog.id}}" class="btn btn-primary"><span class="fa fa-comment"></span> Comments </a> -->
                        <a href="/editblog/{{blog.id}}" class="btn btn-primary" style="margin-left: 1rem;"><span class="fa fa-pencil"></span> Edit Blog </a>
                        <a href="/deleteblog/{{blog.id}}" class="btn btn-danger" style="margin-left: 1rem;"><span class="fa fa-trash"></span> Delete Blog </a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}

    </section>

</section>

{% endblock body %}