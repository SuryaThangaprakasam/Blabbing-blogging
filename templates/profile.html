{% extends '_main.html' %}
{% load static %}

<!-- https://www.bootdey.com/snippets/view/media-profile#preview -->

{% block style %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock style %}

{% block title %}
    Blabbing | Profile
{% endblock title %}

{% block body %}

<section class="container main-section">

    <!-- Heading row -->
    <div class="row">
        <div class="col-12 text-center">
            <h2 class="mb-4">Profile</h2>
            {% include '_message.html' %}
        </div>
    </div>

    <div class="row">
        <!-- Left pane - Profile Picture -->
        <div class="col-md-4">
            <div class="profile-img" style="padding-bottom: 2rem;">
                <img src="{{request.user.profile_pic.url}}" alt="profile_pic"/>
            </div>
        </div>
        <!-- Right pane -->
        <div class="col-md-8">
            <!-- Top row -->
            <div class="row">
                <div class="col-9">
                    <div class="profile-head">
                        <h5>{{request.user.username}}</h5>
                        <h6>{{request.user.first_name}} {{request.user.last_name}}</h6>
                        <p class="profile-rating">{{request.user.email}}</p>
                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                            <li class="nav-item"><a href="#about" class="nav-link active" id="about-tab" data-bs-toggle="tab" role="tab" aria-controls="about" aria-selected="true">About</a></li>
                            <li class="nav-item"><a href="#blogs" class="nav-link" id="blogs-tab" data-bs-toggle="tab" role="tab" aria-controls="blogs" aria-selected="false">Blogs</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-3">
                    <a href="/update_profile" class="btn profile-edit-btn btn-secondary">Edit Profile</a>
                </div>
            </div>
            <!-- Bottom row -->
            <div class="row">
                <div class="col-12">
                    <div class="tab-content profile-tab" id="myTabContent">
                        <div class="tab-pane fade show active" id="about" role="tabpanel" aria-labelledby="about-tab">
                            <div class="row">
                                <div class="col-6"><label>Username</label></div>
                                <div class="col-6"><p>{{request.user.username}}</p></div>
                            </div>
                            <div class="row">
                                <div class="col-6"><label>First Name</label></div>
                                <div class="col-6"><p>{{request.user.first_name}}</p></div>
                            </div>
                            <div class="row">
                                <div class="col-6"><label>Last Name</label></div>
                                <div class="col-6"><p>{{request.user.last_name}}</p></div>
                            </div>
                            <div class="row">
                                <div class="col-6"><label>Email</label></div>
                                <div class="col-6"><p>{{request.user.email}}</p></div>
                            </div>
                            <div class="row">
                                <div class="col-6"><label>Contact</label></div>
                                <div class="col-6"><p>{{request.user.contact}}</p></div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="blogs" role="tabpanel" aria-labelledby="blogs-tab">
                            {% for blog in blogs %}
                                <div class="row">
                                        <a class="col-6" href="/theblog/{{blog.id}}" style="text-decoration: none;">
                                            <h5>{{blog.title}}</h5>
                                        </a>
                                        <p class="col-6">- {{blog.created_at}}</p>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock body %}


<!--     <h1 style="margin-top: 4rem;">Profile</h1>
    {% include '_message.html' %}
    {{request.user.profile_pic}} -->